
@using DicomApp.CommonDefinitions.DTO
@model DashboardDTO
<div class="col-12 col-lg-12  mt-3">
        <div class="card overflow-hidden">
            <div class="card-content">
                <div class="card-body p-0">
                    <div class="row">
                        <!-- START: All Orders Income -->
                        <div class="col-12 col-lg-3 d-block d-md-flex d-lg-block">
                            <div class="card bg-primary rounded-0 col-12 col-md-4 col-lg-12">
                                <div class="card-body">
                                    <div class='d-flex px-0 px-lg-2 py-2 align-self-center'>
                                        <i class="fas fa-dollar-sign card-liner-icon mt-2 text-white"></i>
                                        <div class='card-liner-content'>
                                            <h2 id="AllOrdersIncome" class="card-liner-title text-white loaderPoints"></h2>
                                            <h6 class="card-liner-subtitle text-white">All Orders Income</h6>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card bg-primary  rounded-0 col-12 col-md-4 col-lg-12">
                                <div class="card-body">
                                    <div class='d-flex px-0 px-lg-2 py-3 align-self-center'>
                                        <i class="fas fa-donate card-liner-icon mt-2 text-white"></i>
                                        <div class='card-liner-content'>
                                            <h2 id="AllOrdersFees" class="card-liner-title text-white loaderPoints"></h2>
                                            <h6 class="card-liner-subtitle text-white">All Orders Fees</h6>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card bg-primary  rounded-0 col-12 col-md-4 col-lg-12">
                                <div class="card-body">
                                    <div class='d-flex px-0 px-lg-2 py-2 align-self-center'>
                                        <i class="fab fa-creative-commons-nc card-liner-icon mt-2 text-white"></i>
                                        <div class='card-liner-content'>
                                            <h2 id="AllOrdersSubtotal" class="card-liner-title text-white loaderPoints"></h2>
                                            <h6 class="card-liner-subtitle text-white">All Orders Subtotal</h6>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- END: All Orders Income -->
                        <!-- START: Last Year Chart -->
                        <div class="col-12 col-md-8 col-lg-6 mt-3">
                            <canvas id="chart_YearPartial"></canvas>
                        </div>
                        <!-- END: Last Year Chart -->
                        <!-- START: Today Orders Income -->
                        <div class="col-12 col-md-4 col-lg-3 mt-3">
                            <div class="p-2">
                                <div class="d-flex">
                                    <div class="media-body align-self-center ">
                                        <span class="mb-0 h5 font-w-600">Today Income</span><br>
                                        <p class="mb-0 font-w-500 tx-s-12">@DateTime.Now.ToString("dddd, dd/MM/yyyy")</p>
                                    </div>
                                    <div class="ml-auto border-0 outline-badge-success circle-50"><span class="h6 mb-0">L.E</span></div>
                                </div>
                                <div class="d-flex mt-4">
                                    <div class="border-0 outline-badge-info w-50 p-3 rounded text-center">
                                        <span id="AllIncome" class="h6 mb-0 font-weight-bold loaderPoints"></span><br>
                                        All Income
                                    </div>
                                    <div class="border-0 outline-badge-success w-50 p-3 rounded ml-2 text-center">
                                        <span id="ShippingFees" class="h6 mb-0 font-weight-bold loaderPoints"></span><br>
                                        Shipping Fees
                                    </div>
                                </div>
                                <div class="d-flex mt-3">
                                    <div class="border-0 outline-badge-dark w-50 p-3 rounded text-center">
                                        <span id="Subtotal" class="h6 mb-0 font-weight-bold loaderPoints"></span><br>
                                        Subtotal
                                    </div>
                                    <div class="border-0 outline-badge-dark w-50 p-3 rounded ml-2 text-center">
                                        <span id="PaidSubtotal" class="h6 mb-0 font-weight-bold loaderPoints"></span><br>
                                        Paid Subtotal
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- END: Today Orders Income -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- START: All Orders Count -->
    <div class="col-12 col-md-6 col-lg-3 mt-3">
        <div class="card border-bottom-0">
            <div class="card-content border-bottom border-primary border-w-5">
                <div class="card-body p-4">
                    <div class="d-flex">
                        <div class="circle-50 outline-badge-primary"> <i class="fas fa-box h4"></i></div>
                        <div class="media-body align-self-center pl-3">
                            <span class="mb-0 h6 font-w-600">All Orders</span><br>
                            <p id="AllOrders" class="mb-0 font-w-500 h6 loaderPoints"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-12 col-md-6 col-lg-3 mt-3">
        <div class="card border-bottom-0">
            <div class="card-content border-bottom border-warning border-w-5">
                <div class="card-body p-4">
                    <div class="d-flex">
                        <div class="circle-50 outline-badge-warning pt-1"> <i class="fas fa-plus h3"></i></div>
                        <div class="media-body align-self-center pl-3">
                            <span class="mb-0 h6 font-w-600">New Orders</span><br>
                            <p id="NewOrders" class="mb-0 font-w-500 h6 loaderPoints"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-12 col-md-6 col-lg-3 mt-3">
        <div class="card border-bottom-0">
            <div class="card-content border-bottom border-success border-w-5">
                <div class="card-body p-4">
                    <div class="d-flex">
                        <div class="circle-50 outline-badge-success pt-1"> <i class="fas fa-check h3"></i></div>
                        <div class="media-body align-self-center pl-3">
                            <span class="mb-0 h6 font-w-600">Delivered Orders</span><br>
                            <p id="DeliveredOrders" class="mb-0 font-w-500 h6 loaderPoints"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-12 col-md-6 col-lg-3 mt-3">
        <div class="card border-bottom-0">
            <div class="card-content border-bottom border-danger border-w-5">
                <div class="card-body p-4">
                    <div class="d-flex">
                        <div class="circle-50 outline-badge-danger pt-1"> <i class="fas fa-times h3"></i></div>
                        <div class="media-body align-self-center pl-3">
                            <span class="mb-0 h6 font-w-600">Canceled Orders</span><br>
                            <p id="CanceledOrders" class="mb-0 font-w-500 h6 loaderPoints"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- END: All Orders Count -->
    <!-- START: Charts -->
    <div class="col-12 col-md-12 col-lg-12 mt-3">
        <div class="card">
            <div class="card-content">
                <div class="card-body">
                    <div class="d-flex">
                        <div class="media-body align-self-center ">
                            <span class="mb-0 h5 font-w-600">Top 10 Account Progress</span><br>
                            <p class="mb-0 font-w-500 tx-s-12">Account Report</p>
                        </div>
                    </div>
                    <div id="chart_Top10AccountPartial" class="height-500"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-12 col-md-12 col-lg-12 mt-3">
        <div class="card">
            <div class="card-content">
                <div class="card-body">
                    <div class="d-flex">
                        <div class="media-body align-self-center ">
                            <span class="mb-0 h5 font-w-600">Top 10 Driver Progress</span><br>
                            <p class="mb-0 font-w-500 tx-s-12">Driver Report</p>
                        </div>
                    </div>
                <div id="chart_Top10DriverPartial" class="height-500"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-12 col-md-12 col-lg-12 mt-3">
        <div class="card">
            <div class="card-content">
                <div class="card-body">
                    <div class="d-flex">
                        <div class="media-body align-self-center ">
                            <span class="mb-0 h5 font-w-600">Top 10 Area Progress</span><br>
                            <p class="mb-0 font-w-500 tx-s-12">Area Report</p>
                        </div>
                    </div>
                <div id="chart_Top10AreaPartial" class="height-500"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- END: Charts -->
    <script>

    $("#chart_Year").remove();
    $("#chart_Top10Driver").remove();
    $("#chart_Top10Account").remove();
    $("#chart_Top10Area").remove();
    var theme = 'light';
    var primarycolor = getComputedStyle(document.body).getPropertyValue('--primarycolor');
    var bordercolor = getComputedStyle(document.body).getPropertyValue('--bordercolor');
    var bodycolor = getComputedStyle(document.body).getPropertyValue('--bodycolor');

    if ($("#chart_Top10DriverPartial").length > 0) {
        var modelNew = @Html.Raw(Json.Serialize(Model.Chart_TopDriver));
        var dmodelNew = [];
        var cmodelNew = [];
        var cmodelPaid = [];
        var cmodelDeliverd = [];
        var cmodelCancelled = [];
        for (var i = 0; i < modelNew.length; i++) {
            dmodelNew.push(modelNew[i].key);
            cmodelNew.push(modelNew[i].value1);
            cmodelDeliverd.push(modelNew[i].value2);
            cmodelCancelled.push(modelNew[i].value3);
        }
        options = {
            theme: {
                mode: theme
            },
            grid: {

                yaxis: {
                    lines: {
                        show: false
                    }
                }
            },
            chart: {
                height: 318,
                type: 'bar',
                stacked: false,
            },
            plotOptions: {
                bar: {
                    horizontal: false,
                    columnWidth: '100',
                }
            },
            dataLabels: {
                enabled: true
            },
            colors: ['#d6d8d9', '#1ee0ac', '#f75d6e'],
            series: [{
                data: cmodelNew,
                name: 'New',
                }, {
                data: cmodelDeliverd,
                    name: 'Delivered'
                }, {
                data: cmodelCancelled,
                    name: 'Canceled'
                }],
            xaxis: {
                categories: dmodelNew

            }
        }

        var chart = new ApexCharts(
            document.querySelector("#chart_Top10DriverPartial"),
            options
        );
        chart.render();
    }
    if ($("#chart_Top10AccountPartial").length > 0) {
        var modelNew = @Html.Raw(Json.Serialize(Model.Chart_TopBuyer));
        var dmodelNew = [];
        var cmodelNew = [];
        var cmodelDeliverd = [];
        var cmodelCancelled = [];
        for (var i = 0; i < modelNew.length; i++) {
            dmodelNew.push(modelNew[i].key);
            cmodelNew.push(modelNew[i].value1);
            cmodelDeliverd.push(modelNew[i].value2);
            cmodelCancelled.push(modelNew[i].value3);
        }
        options = {
            theme: {
                mode: theme
            },
            grid: {

                yaxis: {
                    lines: {
                        show: false
                    }
                }
            },
            chart: {
                height: 318,
                type: 'bar',
                stacked: false,
            },
            plotOptions: {
                bar: {
                    horizontal: false,
                    columnWidth: '100',
                }
            },
            dataLabels: {
                enabled: true
            },
            colors: ['#d6d8d9', '#1ee0ac', '#f75d6e'],
            series: [{
                data: cmodelNew,
                name: 'New',
                }, {
                data: cmodelDeliverd,
                    name: 'Delivered'
                }, {
                data: cmodelCancelled,
                    name: 'Canceled'
                }],
            xaxis: {
                categories: dmodelNew

            }
        }

        var chart = new ApexCharts(
            document.querySelector("#chart_Top10AccountPartial"),
            options
        );
        chart.render();
    }
    if ($("#chart_Top10AreaPartial").length > 0) {
        var modelNew = @Html.Raw(Json.Serialize(Model.Chart_TopGames));
        var dmodelNew = [];
        var cmodelNew = [];
        var cmodelDeliverd = [];
        var cmodelCancelled = [];
        for (var i = 0; i < modelNew.length; i++) {
            dmodelNew.push(modelNew[i].key);
            cmodelNew.push(modelNew[i].value1);
            cmodelDeliverd.push(modelNew[i].value2);
            cmodelCancelled.push(modelNew[i].value3);
        }
        options = {
            theme: {
                mode: theme
            },
            grid: {

                yaxis: {
                    lines: {
                        show: false
                    }
                }
            },
            chart: {
                height: 318,
                type: 'bar',
                stacked: false,
            },
            plotOptions: {
                bar: {
                    horizontal: false,
                    columnWidth: '100',
                }
            },
            dataLabels: {
                enabled: true
            },
            colors: ['#d6d8d9', '#1ee0ac', '#f75d6e'],
            series: [{
                data: cmodelNew,
                name: 'New',
                }, {
                data: cmodelDeliverd,
                    name: 'Delivered'
                }, {
                data: cmodelCancelled,
                    name: 'Canceled'
                }],
            xaxis: {
                categories: dmodelNew

            }
        }

        var chart = new ApexCharts(
            document.querySelector("#chart_Top10AreaPartial"),
            options
        );
        chart.render();
    }

        if ($('body').hasClass('dark')) {
            theme = 'dark';
        }
        if ($('body').hasClass('dark-alt')) {
            theme = 'dark';
        }
        if ($('body').hasClass('gradient')) {
            theme = 'dark';
        }

        var chartjs_other_pie = document.getElementById("chartjs-other-pie");
        if (chartjs_other_pie) {
            var ctx = document.getElementById('chartjs-other-pie').getContext('2d');
            window.myDoughnut = new Chart(ctx, config);
        }

        var modelNew = @Html.Raw(Json.Serialize(Model.Chart_Year));
        var mKey,m1,m2,m3,m4,m5,m6,m7,m8,m9,m10,m11,m12;

        for (var i = 0; i < modelNew.length; i++) {
            mKey = modelNew[i].key;
            m1 = modelNew[i].value1;
            m2 = modelNew[i].value2;
            m3 = modelNew[i].value3;
            m4 = modelNew[i].value4;
            m5 = modelNew[i].value5;
            m6 = modelNew[i].value6;
            m7 = modelNew[i].value7;
            m8 = modelNew[i].value8;
            m9 = modelNew[i].value9;
            m10 = modelNew[i].value10;
            m11 = modelNew[i].value11;
            m12 = modelNew[i].value12;
        }

    var chartjs_multiaxis_bar = document.getElementById("chart_YearPartial");
        if (chartjs_multiaxis_bar) {
            var barmultiaxisChartData = {
                labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
                datasets: [{
                        label: 'Total Shipping Fees',
                        backgroundColor: [
                            primarycolor,
                            primarycolor,
                            primarycolor,
                            primarycolor,
                            primarycolor,
                            primarycolor,
                            primarycolor,
                            primarycolor,
                            primarycolor,
                            primarycolor,
                            primarycolor,
                            primarycolor
                        ],
                        yAxisID: 'y-axis-1',
                        data: [m1, m2, m3, m4, m5, m6, m7, m8, m9, m10, m11, m12]
                    }]

            };
        ctx = document.getElementById('chart_YearPartial').getContext('2d');
            window.myBar = new Chart(ctx, {
                type: 'bar',
                data: barmultiaxisChartData,
                options: {
                    responsive: true,
                    legend: {
                        display: false,
                        position: 'top',
                        labels: {
                            fontColor: bodycolor
                        }
                    },
                    scales: {
                        xAxes: [{
                                display: true,
                                maxBarThickness: 10,
                                gridLines: {
                                    display: true,
                                    color: bordercolor,
                                    zeroLineColor: bordercolor
                                },
                                ticks: {
                                    fontColor: bodycolor,
                                },
                            }],
                        yAxes: [{
                                type: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance
                                display: false,
                                position: 'left',
                                id: 'y-axis-2',
                                gridLines: {
                                    drawOnChartArea: false,
                                    color: bordercolor,
                                    zeroLineColor: bordercolor
                                },
                                ticks: {
                                    fontColor: bodycolor,
                                }
                            }, {
                                display: true,
                                gridLines: {
                                    display: true,
                                    color: bordercolor,
                                    zeroLineColor: bordercolor
                                },
                                ticks: {
                                    fontColor: bodycolor,
                                }
                            }]
                    }
                }
            });
        }
    </script>